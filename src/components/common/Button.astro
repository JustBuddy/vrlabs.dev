---
import icons from "../../icons.json";

const {
  color: color,
  type: type,
  size: size,
  expand: expand,
  round: round,
  icon: icon,
  iconFill: iconFill,
  iconStroke: iconStroke,
  class: customClasses,
} = Astro.props;

const colors = {
  primary: "bg-elements border-elements",
  secondary: "bg-action border-action",
};

const textColors = {
  primary: "text-elements",
  secondary: "text-action",
};

const types = {
  filled: "border-0",
  outline: "bg-transparent border-1",
  invisible: "bg-transparent border-0",
};

const sizes = {
  small: "h-7 p-0.5 text-small",
  medium: "h-9 py-1 px-2 text-normal",
  large: "h-11 p-1 px-2 sm:text-desktopLarge text-mobileLarge",
};

const buttonClasses = [
  colors[color] || colors.primary,
  types[type] || types.filled,
  sizes[size] || sizes.medium,
  expand ? "w-full" : "w-fit",
  round ? "rounded-full" : "rounded-lg",
  type !== "filled" ? textColors[color] : "",
  customClasses || "",
];

const iconClasses = [
  iconFill ? "fill-current" : "fill-transparent",
  iconStroke ? "stroke-current" : "stroke-transparent",
];
---

<button
  class:list={[
    buttonClasses,
    "transition-colors duration-200 flex justify-center items-center gap-1 font-Sans-Bold",
  ]}
>
  {
    icon && (
      <svg
        class:list={[iconClasses, "h-full"]}
        viewBox="0 0 80 80"
        xmlns="http://www.w3.org/2000/svg"
        set:html={icons[icon]}
      />
    )
  }
  <slot />
</button>
