---
import Button from "../../common/Button.astro";
---

<div
  class="drawer left-0 right-0 bottom-0 w-screen fixed transition-all duration-300 flex justify-center z-40 h-0 pointer-events-none mb-0 sm:mb-6"
>
  <div
    class="drawer-container w-full sm:max-w-2xl hidden flex-col pointer-events-auto bg-elementsDark/80 backdrop-blur-2xl sm:rounded-xl border-t-1 rounded-t-xl sm:border-1 border-border overflow-hidden shadow-lg transition-all duration-300"
  >
    <div
      class="drawer-main w-full h-full flex flex-col items-center px-4 overflow-hidden"
    >
      <div
        class="drawer-toggle rounded-t-xl cursor-pointer w-full flex justify-center items-center gap-3 py-4 text-mobileLarge sm:text-desktopLarge font-Novecento-Utrabold hover:text-action transition-all duration-100"
      >
        <p>VCC List</p>
        <div
          class="drawer-count rounded-full bg-action text-textPrimary w-10 text-center"
        >
          0
        </div>
      </div>
      <div
        class="text-small text-textSecondary text-center flex items-center gap-3 mt-4 w-full font-Sans-Bold before:flex-1 before:bg-border before:pt-[1px] after:flex-1 after:bg-border after:pt-[1px]"
      >
        Packages
      </div>
      <div class="drawer-packages w-full bg-transparent">
        <div class="py-5">
          <div
            class="drawer-emptyPackagesMessage flex justify-center text-textSecondary/70 text-small"
          >
            You have no packages selected
          </div>
          <ul class="drawer-packagesList"></ul>
        </div>
      </div>
      <div
        class="text-small text-textSecondary text-center flex items-center gap-3 mt-4 w-full font-Sans-Bold before:flex-1 before:bg-border before:pt-[1px] after:flex-1 after:bg-border after:pt-[1px]"
      >
        Dependencies
      </div>
      <div class="drawer-dependencies w-full bg-transparent">
        <div class="py-5">
          <div
            class="drawer-emptyDependencyMessage flex justify-center text-textSecondary/70 text-small"
          >
            No dependencies required
          </div>
          <ul class="drawer-packagesList"></ul>
        </div>
      </div>
    </div>
    <div class="flex gap-2 px-4 py-4">
      <Button
        color="action"
        type="filled"
        size="medium"
        expand
        class="drawer-addToVCCButton"
        ariaLabel="Add packages to VCC"
      >
        Add to VCC
      </Button>
      <Button
        color="bright"
        type="filled"
        size="medium"
        icon="copy"
        iconFill
        class="drawer-copyButton !px-2 !text-textSecondary hover:!text-textPrimary"
        ariaLabel="Copy VCC List"
      />
    </div>
  </div>
</div>

<style>
  .drawer-packages::-webkit-scrollbar {
    display: none;
  }

  .drawer-packages {
    scrollbar-width: none;
  }

  .divider {
    border-top: 1px solid var(--color-border);
  }
</style>

<script src="./packageDrawer.js"></script>
