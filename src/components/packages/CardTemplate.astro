---
import icons from "../../icons.json";
---

<div
  class="card-template group/card hidden flex-col rounded-xl border-borderColor border-1 shadow-packages hover:shadow-packagesHover hover:scale-102 transition-all duration-500 overflow-clip relative cursor-default"
>
  <div class="relative w-full h-44">
    <img
      class="card-previewGif h-full w-full object-cover absolute bg-elements hidden"
      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
      alt="Preview Gif"
    />
    <img
      class="card-previewImage h-full w-full object-cover absolute bg-elements group-hover/card:opacity-0 transition-opacity duration-300"
      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
      alt="Preview Image"
    />
    <!-- Angle the skeleton gradient, maybe put it into its own div -->
    <div class="absolute flex right-0 top-0 m-2 gap-2">
      <button
        class="card-infoButton bg-elements rounded-full w-7 h-7 flex justify-center items-center hover:brightness-125 transition-all duration-200"
        aria-label="View package details"
      >
        <svg
          class="h-6 fill-textPrimary"
          viewBox="0 0 80 80"
          xmlns="http://www.w3.org/2000/svg"
          set:html={icons.information}
        />
      </button>
      <button
        class="card-githubButton bg-elements rounded-full w-7 h-7 flex justify-center items-center hover:brightness-125 transition-all duration-200"
        aria-label="View package on GitHub"
      >
        <svg
          class="h-6 fill-textPrimary"
          viewBox="0 0 80 80"
          xmlns="http://www.w3.org/2000/svg"
          set:html={icons.github}
        />
      </button>
    </div>
  </div>
  <div
    class="p-3 bg-gradient-to-br from-elementsBright to-elements grow flex flex-col"
  >
    <p
      class="card-packageName text-mobileLarge sm:text-desktopLarge font-Novecento-Utrabold leading-6"
    >
      Package Name
    </p>
    <div class="text-small flex items-center">
      <svg
        class="rotate-180 h-5 fill-textSecondary stroke-textSecondary"
        viewBox="0 0 80 80"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        set:html={icons.download}
      />
      <p class="card-downloadCount text-textSecondary">---</p>
    </div>
    <p class="card-packageDescription text-small mt-3 mb-4 text-textSecondary">
      Package Description
    </p>
    <div class="flex gap-1 mt-auto">
      <button
        class="card-vccButton bg-elements rounded-lg px-6 py-2 w-full font-Sans-Bold border-1 border-borderColor hover:brightness-125 transition-all duration-200"
        aria-label="Add package to VCC">Add to VCC List</button
      >
      <button
        class="card-downloadButton bg-background/0 rounded-lg border-1 border-borderColor/50 hover:brightness-125 transition-all duration-200"
        aria-label="Download package"
      >
        <svg
          class="rotate-180 h-5 w-10 fill-textSecondary stroke-textSecondary"
          viewBox="0 0 80 80"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          set:html={icons.download}
        />
      </button>
    </div>
  </div>
</div>

<style>
  .animate-skeleton {
    animation: shine 1.5s ease-in-out infinite;
    background-image: linear-gradient(
      to right,
      rgba(0, 0, 0, 0) 0%,
      rgba(255, 255, 255, 0.05) 20%,
      rgba(0, 0, 0, 0) 40%
    );
    background-size: 1000px 100%;
  }

  @keyframes shine {
    0% {
      background-position: -500px;
    }
    100% {
      background-position: 500px;
    }
  }
</style>
